import { PluginTemplate } from '@magnolia/cli-plugin-template';
import { Logger } from 'winston';
import { Option } from 'commander';
import watch from 'glob-watcher';
interface WatchModeOptions {
    useConfig?: string[];
}
export default class WatchMode extends PluginTemplate {
    name: string;
    usage: string;
    description: string;
    version: string;
    loggerConfig: string;
    logger?: Logger;
    configPath: string;
    pjPath: string;
    i18nInstance: any;
    watchers: Array<ReturnType<typeof watch>>;
    options: Option[];
    allPlugins: PluginTemplate[];
    pendingFiles: Map<string, Set<string>>;
    pendingFileActions: Map<string, Map<string, string>>;
    batchTimers: Map<string, NodeJS.Timeout>;
    batchDelay: number;
    pluginQueue: Array<() => Promise<void>>;
    isProcessingQueue: boolean;
    constructor(args: any);
    private parseUseConfigValues;
    private isPathExcluded;
    private validateAndFilterPaths;
    private parseConfigFileValues;
    start(options: WatchModeOptions): Promise<void>;
    private onFile;
    private processBatch;
    private processQueue;
    runPlugin(pluginName: string, filePath: string | string[], options?: any): Promise<void>;
    cleanupProcessArgv(argv: string[]): string[];
    stop(): Promise<void>;
    init(logger: Logger): void;
}
export {};
