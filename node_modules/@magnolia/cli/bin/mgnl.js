#!/usr/bin/env node
import update from './update-plugins.js';
await update();

const { Cli } = await import('../dist/Cli.js');
const { PluginManager } = await import('../dist/lib/plugin-manager.js');
const defaultConfiguration = await import('../dist/mgnl.config.js');

const pluginManager = new PluginManager();
const cli = new Cli(pluginManager, defaultConfiguration.default);

const main = async () => {
	try {
		await cli.init();
		await cli.start();
	} catch (err) {
		// eslint-disable-next-line no-console
		console.log(err);
	}
};

main();
